import{u as y}from"./vehicleRentalRecord-9971e4ee.js";import{f as v,b as B}from"./formatters-87109f83.js";import{R as P,r as A,S as U,_ as N,k as z,l as r,J as d,x as n,n as V,q as e,c as t,I as o,v as s,Y as c,A as g,O as m,K as E,s as F}from"./index-a69e0c82.js";import{b as k,d as J,e as H,V as h,a as I}from"./VRow-03344ab6.js";import{V as j}from"./VDialog-d7a653e8.js";import{V as q}from"./VTextField-03e38bc1.js";import{V as L}from"./VSwitch-6f4bdfef.js";import{a as M}from"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelectionControl-88f5bb81.js";const O=F("h2",{class:"mb-0"}," Catatan Penyewaan Kendaraan ",-1),Y={key:0},G={key:1},Q={key:0},W={key:1},X={key:1},ca={__name:"vehicle-rental-records",setup(Z){const w=[{text:"Kode",value:"code"},{text:"Jenis Kendaraan",value:"type"},{text:"Nama Truk/Alat Berat",value:"brand"},{text:"Tanggal Sewa",value:"start_date"},{text:"Lama Sewa",value:"rental_duration"},{text:"Tanggal Kembali",value:"end_date"},{text:"Harga Sewa",value:"rental_cost"},{text:"Status Jatuh Tempo",value:"due_status",width:100},{text:"Status Pelunasan",value:"is_paid",width:100},{text:"Bukti Pembayaran",value:"payment_proof_image"},{text:"Aksi",value:"operation",width:300}],{vehicleRentalRecords:x,loading:f,error:C,success:i}=P(y()),{fetchVehicleRentalRecords:_,deleteVehicleRentalRecord:R,paymentVehicleRentalRecord:b}=y();_();async function T(u){confirm("Apakah Anda yakin ingin menghapus catatan penyewaan kendaraan ini?")&&(await R(u.id),_())}async function D(u){const l=new FormData;l.append("is_paid",u.is_paid?1:0),await b(u.id,l),_()}const p=A("");return U(()=>{document.title="Catatan Penyewaan Kendaraan"}),N(()=>{C.value=null}),(u,l)=>{const K=z("EasyDataTable");return r(),d(E,null,[n(i)?(r(),V(j,{key:0,modelValue:n(i),"onUpdate:modelValue":l[1]||(l[1]=a=>g(i)?i.value=a:null),"max-width":"400"},{default:e(()=>[t(k,null,{default:e(()=>[t(J,null,{default:e(()=>[o(s(n(i)),1)]),_:1}),t(H,null,{default:e(()=>[t(c,{color:"primary",text:"",onClick:l[0]||(l[0]=()=>i.value=null)},{default:e(()=>[o(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):m("",!0),t(I,null,{default:e(()=>[t(h,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[O,t(c,{to:{name:"admin-vehicle-rental-record-create"},color:"primary"},{default:e(()=>[o(" Tambah Catatan Penyewaan Kendaraan ")]),_:1})]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(q,{modelValue:n(p),"onUpdate:modelValue":l[2]||(l[2]=a=>g(p)?p.value=a:null),label:"Cari Catatan Penyewaan Kendaraan",placeholder:"Cari Catatan Penyewaan Kendaraan",clearable:"",loading:n(f),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(h,{cols:"12"},{default:e(()=>[t(k,null,{default:e(()=>[t(K,{headers:w,items:n(x),loading:n(f),"search-value":n(p),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-type":e(a=>[a.truck?(r(),d("span",Y,"Truk")):m("",!0),a.heavy_vehicle?(r(),d("span",G,"Alat Berat")):m("",!0)]),"item-brand":e(a=>[a.truck?(r(),d("span",Q,s(a.truck.brand)+" "+s(a.truck.model),1)):m("",!0),a.heavy_vehicle?(r(),d("span",W,s(a.heavy_vehicle.brand)+" "+s(a.heavy_vehicle.model),1)):m("",!0)]),"item-start_date":e(a=>[o(s(n(v)(a.start_date)),1)]),"item-end_date":e(a=>[o(s(n(v)(a.end_date)),1)]),"item-rental_cost":e(a=>[o(s(n(B)(a.rental_cost)),1)]),"item-is_paid":e(a=>[t(L,{modelValue:a.is_paid,"onUpdate:modelValue":S=>a.is_paid=S,color:"primary",onChange:()=>D(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-payment_proof_image":e(a=>[a.payment_proof_image?(r(),V(M,{key:0,src:a.payment_proof_image_url,width:"100",height:"100",contain:""},null,8,["src"])):(r(),d("span",X,"-"))]),"item-operation":e(a=>[t(c,{to:{name:"admin-vehicle-rental-record-edit",params:{id:a.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[o(" Ubah ")]),_:2},1032,["to"]),t(c,{to:{name:"admin-vehicle-rental-record-view",params:{id:a.id}},color:"info",size:"small"},{default:e(()=>[o(" Detail ")]),_:2},1032,["to"]),t(c,{color:"error",size:"small",class:"m-5",onClick:()=>T(a)},{default:e(()=>[o(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ca as default};
