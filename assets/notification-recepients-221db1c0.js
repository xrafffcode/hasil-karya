import{u as p}from"./notificationRecepient-ffe8bc1a.js";import{R as w,r as R,S as D,_ as T,k as A,l as f,J as P,x as o,n as U,q as e,c as a,I as n,v as B,Y as r,A as _,O as S,K as z,s as E}from"./index-a69e0c82.js";import{b as V,d as F,e as j,V as m,a as H}from"./VRow-03344ab6.js";import{V as J}from"./VDialog-d7a653e8.js";import{V as q}from"./VTextField-03e38bc1.js";import{V as I}from"./VSwitch-6f4bdfef.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelectionControl-88f5bb81.js";const K=E("h2",{class:"mb-0"}," Penerima Notifikasi ",-1),te={__name:"notification-recepients",setup(M){const v=[{text:"Nama",value:"name"},{text:"No HP",value:"phone_number"},{text:"Jabatan",value:"job_title"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:300}],{recepients:h,loading:u,error:k,success:l}=w(p()),{fetchRecepients:d,deleteRecepient:x,activateRecepient:b}=p();d();async function g(s){confirm("Apakah Anda yakin ingin menghapus recepient ini?")&&(await x(s.id),d())}async function C(s){const i=new FormData;i.append("is_active",s.is_active?1:0),await b(s.id,i),d()}const c=R("");return D(()=>{document.title="Penerima Notifikasi"}),T(()=>{k.value=null}),(s,i)=>{const y=A("EasyDataTable");return f(),P(z,null,[o(l)?(f(),U(J,{key:0,modelValue:o(l),"onUpdate:modelValue":i[1]||(i[1]=t=>_(l)?l.value=t:null),"max-width":"400"},{default:e(()=>[a(V,null,{default:e(()=>[a(F,null,{default:e(()=>[n(B(o(l)),1)]),_:1}),a(j,null,{default:e(()=>[a(r,{color:"primary",text:"",onClick:i[0]||(i[0]=()=>l.value=null)},{default:e(()=>[n(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):S("",!0),a(H,null,{default:e(()=>[a(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[K,a(r,{to:"/admin/notification-recepient/create",color:"primary"},{default:e(()=>[n(" Tambah Penerima Notifikasi ")]),_:1})]),_:1}),a(m,{cols:"12"},{default:e(()=>[a(q,{modelValue:o(c),"onUpdate:modelValue":i[2]||(i[2]=t=>_(c)?c.value=t:null),label:"Cari Penerima Notifikasi",placeholder:"Cari Penerima Notifikasi",clearable:"",loading:o(u),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(m,{cols:"12"},{default:e(()=>[a(V,null,{default:e(()=>[a(y,{headers:v,items:o(h),loading:o(u),"search-value":o(c),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":e(t=>[a(I,{modelValue:t.is_active,"onUpdate:modelValue":N=>t.is_active=N,color:"primary",onChange:()=>C(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":e(t=>[a(r,{to:{name:"admin-notification-recepient-edit",params:{id:t.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[n(" Ubah ")]),_:2},1032,["to"]),a(r,{to:{name:"admin-notification-recepient-view",params:{id:t.id}},color:"info",size:"small"},{default:e(()=>[n(" Detail ")]),_:2},1032,["to"]),a(r,{color:"error",size:"small",class:"m-5",onClick:()=>g(t)},{default:e(()=>[n(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{te as default};
