import{P as o,Q as e,b4 as s,b5 as r}from"./index-a69e0c82.js";const c=o({id:"materialMovement",state:()=>({movements:[],loading:!1,error:null,success:null}),actions:{async fetchMaterialMovements(){try{this.loading=!0;const a=await e.get("/material-movements");a.data.data.forEach(t=>{t.truck.name=`${t.truck.brand} ${t.truck.model}`}),this.movements=a.data.data}catch(a){this.handleError(a)}finally{this.loading=!1}},async fetchMaterialMovement(a){try{return this.loading=!0,(await e.get(`/material-movement/${a}`)).data.data}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchMaterialMovementTechnicalAdmin(a){try{return this.loading=!0,(await e.get(`/technical-admin/material-movement/${a}`)).data.data}catch(t){this.handleError(t)}finally{this.loading=!1}},async createMaterialMovement(a){try{this.loading=!0;const t=await e.post("/material-movement",a);this.success=t.data.message,s.push({name:"admin-material-movement"})}catch(t){this.error=r(t)}finally{this.loading=!1}},async createMaterialMovementCheckers(a){try{this.loading=!0;const t=await e.post("/checker/material-movement/store",a);this.success=t.data.message}catch(t){this.error=r(t)}finally{this.loading=!1,this.error=null}},async updateMaterialMovement(a){try{this.loading=!0;const t=await e.post(`/material-movement/${a.id}`,a);this.success=t.data.message,s.push({name:"admin-material-movement"})}catch(t){this.error=r(t)}finally{this.loading=!1}},async updateMaterialMovementTechnicalAdmin(a){try{this.loading=!0;const t=await e.post(`/technical-admin/material-movement/update/${a.id}`,a);this.success=t.data.message,s.push({name:"technical-admin-material-movement"})}catch(t){this.error=r(t)}finally{this.loading=!1}},async deleteMaterialMovement(a){try{this.loading=!0;const t=await e.delete(`/material-movement/${a}`);this.success=t.data.message}catch(t){this.error=r(t)}finally{this.loading=!1}},async fetchStatisticTruckPerDayByStation(a){try{return this.loading=!0,(await e.get("/material-movements/read/statistic-truck-per-day-by-station",{params:a})).data.data.original}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchStatisticRitagePerDayByStation(a){try{return this.loading=!0,(await e.get("/material-movements/read/statistic-ritage-per-day-by-station",{params:a})).data.data.original}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchStatisticMeasurementVolumeByStation(a){try{return this.loading=!0,(await e.get("/material-movements/read/statistic-measurement-volume-by-station",{params:a})).data.data.original}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchStatisticRitageVolumeByStation(a){try{return this.loading=!0,(await e.get("/material-movements/read/statistic-ritage-volume-by-station",{params:a})).data.data.original}catch(t){this.handleError(t)}finally{this.loading=!1}},async fetchRatioMeasurementByRitage(a){try{this.loading=!0;const i=(await e.get("/material-movements/read/ratio-measurement-by-ritage",{params:a})).data.data.original;return i.forEach(n=>{n.value=(n.value*100).toFixed(2)}),i}catch(t){this.handleError(t)}finally{this.loading=!1}}}});export{c as u};
