import{P as t,bC as a,b5 as r,b4 as i}from"./index-a69e0c82.js";const d=t({id:"ewsDevice",state:()=>({devices:[],loading:!1,error:null,success:null}),actions:{async fetchEwsDevices(){try{this.loading=!0;const s=await a.get("https://ews.hasilkarya.co.id/api/v1/ews-devices",{headers:{"X-API-KEY":"CmNrYrcnOVQ92hDd"}});this.devices=s.data.data}catch(s){this.error=r(s)}finally{this.loading=!1}},async fetchEwsDevice(s){try{return this.loading=!0,(await a.get(`https://ews.hasilkarya.co.id/api/v1/ews-device/${s}`,{headers:{"X-API-KEY":"CmNrYrcnOVQ92hDd"}})).data.data}catch(e){this.error=r(e)}finally{this.loading=!1}},async createEwsDevice(s){try{this.loading=!0;const e=await a.post("https://ews.hasilkarya.co.id/api/v1/ews-device",s,{headers:{"X-API-KEY":"CmNrYrcnOVQ92hDd"}});this.success=e.data.message,i.push({name:"admin-ews-device"})}catch(e){this.error=r(e)}finally{this.loading=!1}},async updateEwsDevice(s){try{this.loading=!0;const e=await a.post(`https://ews.hasilkarya.co.id/api/v1/ews-device/${s.id}`,s,{headers:{"X-API-KEY":"CmNrYrcnOVQ92hDd"}});this.success=e.data.message,i.push({name:"admin-ews-device"})}catch(e){this.error=r(e)}finally{this.loading=!1}},async deleteEwsDevice(s){try{this.loading=!0;const e=await a.delete(`https://ews.hasilkarya.co.id/api/v1/ews-device/${s}`,{headers:{"X-API-KEY":"CmNrYrcnOVQ92hDd"}});this.success=e.data.message,i.push({name:"admin-ews-device"})}catch(e){this.handleError(e)}finally{this.loading=!1}}}});export{d as u};
