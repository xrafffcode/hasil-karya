import{u as f}from"./truck-17634e1b.js";import{t as A}from"./formatters-87109f83.js";import{d as R}from"./qrHelper-ce6183b3.js";import{P as U,r as B,Q as N,X as z,k as Q,l as k,J as S,x as l,n as E,q as a,c as e,I as r,v as _,S as i,A as v,O as F,K,s as M}from"./index-d8570b98.js";import{b as V,d as P,e as j,V as c,a as q}from"./VRow-ae8b4a94.js";import{V as H}from"./VDialog-029e5a82.js";import{V as I}from"./VTextField-d53f6a8a.js";import{V as J}from"./VSwitch-eb604b8d.js";import"./VGrid-aa4a8c47.js";import"./VOverlay-f87aa014.js";import"./forwardRefs-49923578.js";import"./VSelectionControl-d26b90d8.js";const O=M("h2",{class:"mb-0"}," Truck ",-1),na={__name:"trucks",setup(X){const T=[{text:"Kode",value:"code"},{text:"Merek",value:"brand"},{text:"Model",value:"model"},{text:"Tahun Produksi",value:"production_year"},{text:"Vendor",value:"vendor.name"},{text:"Kapasitas",value:"capacity"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:400}],{trucks:x,loading:m,error:C,success:s}=U(f()),{fetchTrucks:d,deleteTruck:h,activateTruck:y}=f();d();async function g(n){confirm("Apakah Anda yakin ingin menghapus truk ini?")&&(await h(n.id),d())}async function b(n){const o=new FormData;o.append("is_active",n.is_active?1:0),await y(n.id,o),d()}const u=B("");function w(n,o){R(n,"Truck "+o)}return N(()=>{document.title="Truck"}),z(()=>{C.value=null}),(n,o)=>{const D=Q("EasyDataTable");return k(),S(K,null,[l(s)?(k(),E(H,{key:0,modelValue:l(s),"onUpdate:modelValue":o[1]||(o[1]=t=>v(s)?s.value=t:null),"max-width":"400"},{default:a(()=>[e(V,null,{default:a(()=>[e(P,null,{default:a(()=>[r(_(l(s)),1)]),_:1}),e(j,null,{default:a(()=>[e(i,{color:"primary",text:"",onClick:o[0]||(o[0]=()=>s.value=null)},{default:a(()=>[r(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):F("",!0),e(q,null,{default:a(()=>[e(c,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:a(()=>[O,e(i,{to:{name:"admin-truck-create"},color:"primary"},{default:a(()=>[r(" Tambah Truck ")]),_:1})]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(I,{modelValue:l(u),"onUpdate:modelValue":o[2]||(o[2]=t=>v(u)?u.value=t:null),label:"Cari Truck",placeholder:"Cari Truck",clearable:"",loading:l(m),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),e(c,{cols:"12"},{default:a(()=>[e(V,null,{default:a(()=>[e(D,{headers:T,items:l(x),loading:l(m),"search-value":l(u),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-capacity":a(t=>[r(_(l(A)(t.capacity))+" mÂ³ ",1)]),"item-is_active":a(t=>[e(J,{modelValue:t.is_active,"onUpdate:modelValue":p=>t.is_active=p,color:"primary",onChange:()=>b(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":a(t=>[e(i,{color:"info",size:"small",class:"m-5",onClick:p=>w(t.id,t.brand+" "+t.model)},{default:a(()=>[r(" Print QR Code ")]),_:2},1032,["onClick"]),e(i,{to:{name:"admin-truck-edit",params:{id:t.id}},color:"primary",size:"small",class:"m-5"},{default:a(()=>[r(" Ubah ")]),_:2},1032,["to"]),e(i,{to:{name:"admin-truck-view",params:{id:t.id}},color:"info",size:"small"},{default:a(()=>[r(" Detail ")]),_:2},1032,["to"]),e(i,{color:"error",size:"small",class:"m-5",onClick:()=>g(t)},{default:a(()=>[r(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{na as default};
