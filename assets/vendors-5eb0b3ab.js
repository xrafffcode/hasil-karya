import{u as p}from"./vendor-e11f4308.js";import{R as y,r as w,S as T,_ as A,k as D,l as V,J as N,x as l,n as U,q as e,c as a,I as s,v as B,Y as r,A as f,O as R,K as S,s as z}from"./index-a69e0c82.js";import{b as v,d as E,e as F,V as u,a as K}from"./VRow-03344ab6.js";import{V as j}from"./VDialog-d7a653e8.js";import{V as q}from"./VTextField-03e38bc1.js";import{V as H}from"./VSwitch-6f4bdfef.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelectionControl-88f5bb81.js";const I=z("h2",{class:"mb-0"}," Vendor ",-1),ee={__name:"vendors",setup(J){const _=[{text:"Kode",value:"code",width:200},{text:"Nama",value:"name"},{text:"Alamat",value:"address"},{text:"No. Telp",value:"phone"},{text:"Aksi",value:"operation",width:300}],{vendors:h,loading:m,error:x,success:n}=y(p()),{fetchVendors:c,deleteVendor:g}=p();c();async function C(i){confirm("Apakah Anda yakin ingin menghapus vendor ini?")&&(await g(i.id),c())}const d=w("");return T(()=>{document.title="Vendor"}),A(()=>{x.value=null}),(i,t)=>{const b=D("EasyDataTable");return V(),N(S,null,[l(n)?(V(),U(j,{key:0,modelValue:l(n),"onUpdate:modelValue":t[1]||(t[1]=o=>f(n)?n.value=o:null),"max-width":"400"},{default:e(()=>[a(v,null,{default:e(()=>[a(E,null,{default:e(()=>[s(B(l(n)),1)]),_:1}),a(F,null,{default:e(()=>[a(r,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>n.value=null)},{default:e(()=>[s(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):R("",!0),a(K,null,{default:e(()=>[a(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[I,a(r,{to:{name:"admin-vendor-create"},color:"primary"},{default:e(()=>[s(" Tambah Vendor ")]),_:1})]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(q,{modelValue:l(d),"onUpdate:modelValue":t[2]||(t[2]=o=>f(d)?d.value=o:null),label:"Cari Vendor",placeholder:"Cari Vendor",clearable:"",loading:l(m),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(v,null,{default:e(()=>[a(b,{headers:_,items:l(h),loading:l(m),"search-value":l(d),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":e(o=>[a(H,{modelValue:o.is_active,"onUpdate:modelValue":k=>o.is_active=k,color:"primary",onChange:()=>i.handleActivateVendor(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":e(o=>[a(r,{to:{name:"admin-vendor-edit",params:{id:o.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[s(" Ubah ")]),_:2},1032,["to"]),a(r,{to:{name:"admin-vendor-view",params:{id:o.id}},color:"info",size:"small"},{default:e(()=>[s(" Detail ")]),_:2},1032,["to"]),a(r,{color:"error",size:"small",class:"m-5",onClick:()=>C(o)},{default:e(()=>[s(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ee as default};
