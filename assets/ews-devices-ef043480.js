import{u as f}from"./ewsDevice-f5d8c590.js";import{R as C,r as b,S as k,_ as y,k as E,l as p,J as T,x as l,n as S,q as e,c as a,I as i,v as A,Y as n,A as v,O as B,K as N,s as R}from"./index-a69e0c82.js";import{b as _,d as U,e as z,V as d,a as W}from"./VRow-03344ab6.js";import{V as F}from"./VDialog-d7a653e8.js";import{V as J}from"./VTextField-03e38bc1.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";const K=R("h2",{class:"mb-0"}," Daftar EWS Device ",-1),Q={__name:"ews-devices",setup(j){const V=[{text:"Kode",value:"code",width:200},{text:"Nama",value:"name"},{text:"Jenis",value:"type"},{text:"Aksi",value:"operation",width:400}],{devices:w,loading:c,error:D,success:s}=C(f()),{fetchEwsDevices:u,deleteEwsDevice:x}=f();u();async function h(m){confirm("Apakah Anda yakin ingin menghapus device ini?")&&(await x(m.id),u())}const r=b("");return k(()=>{document.title="EWS Device"}),y(()=>{D.value=null}),(m,t)=>{const g=E("EasyDataTable");return p(),T(N,null,[l(s)?(p(),S(F,{key:0,modelValue:l(s),"onUpdate:modelValue":t[1]||(t[1]=o=>v(s)?s.value=o:null),"max-width":"400"},{default:e(()=>[a(_,null,{default:e(()=>[a(U,null,{default:e(()=>[i(A(l(s)),1)]),_:1}),a(z,null,{default:e(()=>[a(n,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>s.value=null)},{default:e(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):B("",!0),a(W,null,{default:e(()=>[a(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[K,a(n,{to:{name:"admin-ews-device-create"},color:"primary"},{default:e(()=>[i(" Tambah EWS Device ")]),_:1})]),_:1}),a(d,{cols:"12"},{default:e(()=>[a(J,{modelValue:l(r),"onUpdate:modelValue":t[2]||(t[2]=o=>v(r)?r.value=o:null),label:"Cari Device",placeholder:"Cari Device",clearable:"",loading:l(c),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(d,{cols:"12"},{default:e(()=>[a(_,null,{default:e(()=>[a(g,{headers:V,items:l(w),loading:l(c),"search-value":l(r),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(o=>[a(n,{to:{name:"admin-ews-device-edit",params:{id:o.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Ubah ")]),_:2},1032,["to"]),a(n,{to:{name:"admin-ews-device-view",params:{id:o.id}},color:"info",size:"small"},{default:e(()=>[i(" Detail ")]),_:2},1032,["to"]),a(n,{color:"error",size:"small",class:"m-5",onClick:()=>h(o)},{default:e(()=>[i(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{Q as default};
