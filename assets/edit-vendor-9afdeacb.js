import{j as S,R as B,r as u,S as C,l as U,n as k,q as o,c as a,Y as V,I as f,Z as K,x as e,s as j}from"./index-a69e0c82.js";import{u as h}from"./vendor-e11f4308.js";import{V as n,b as A,a as x}from"./VRow-03344ab6.js";import{V as E}from"./VForm-fb065eef.js";import{V as v}from"./VTextField-03e38bc1.js";import{V as F}from"./VTextarea-d6921a11.js";import"./VGrid-b0831086.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";const I=j("h2",{class:"mb-0"}," Edit Vendor ",-1),O={__name:"edit-vendor",setup(M){const y=S(),{loading:d,error:l}=B(h()),{fetchVendor:R,updateVendor:T}=h(),_=y.params.id,m=u(""),i=u(""),c=u(""),p=u(""),g=u(1),b=async()=>{try{const s=await R(_);m.value=s.code,i.value=s.name,c.value=s.address,p.value=s.phone,g.value=s.is_active===!0?1:0}catch(s){console.error(s)}};C(()=>{b(),document.title="Edit Vendor"});const w=()=>{T({id:_,code:m.value,name:i.value,address:c.value,phone:p.value,is_active:g.value})},N=()=>{b()};return(s,r)=>(U(),k(x,null,{default:o(()=>[a(n,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[I,a(V,{to:{name:"admin-vendor"},color:"primary"},{default:o(()=>[f(" Kembali ")]),_:1})]),_:1}),a(n,{cols:"12"},{default:o(()=>[a(A,null,{default:o(()=>[a(E,{onSubmit:K(w,["prevent"])},{default:o(()=>[a(x,null,{default:o(()=>[a(n,{cols:"12",md:"6"},{default:o(()=>[a(v,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=t=>m.value=t),label:"Kode",placeholder:"Kode Vendor","error-messages":e(l)&&e(l).code?[e(l).code]:[],disabled:e(d),loading:e(d)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(n,{cols:"12",md:"6"},{default:o(()=>[a(v,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=t=>i.value=t),label:"Nama",placeholder:"Nama Vendor","error-messages":e(l)&&e(l).name?[e(l).name]:[],disabled:e(d),loading:e(d)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(n,{cols:"12",md:"12"},{default:o(()=>[a(F,{modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=t=>c.value=t),label:"Alamat",placeholder:"Alamat Vendor","error-messages":e(l)&&e(l).address?[e(l).address]:[],disabled:e(d),loading:e(d)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(n,{cols:"12",md:"12"},{default:o(()=>[a(v,{modelValue:p.value,"onUpdate:modelValue":r[3]||(r[3]=t=>p.value=t),label:"Telepon",placeholder:"Telepon Vendor","error-messages":e(l)&&e(l).phone?[e(l).phone]:[],disabled:e(d),loading:e(d)},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),a(n,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[a(V,{type:"submit",loading:e(d),color:"primary"},{default:o(()=>[f(" Simpan ")]),_:1},8,["loading"]),a(V,{type:"reset",color:"secondary",variant:"tonal",onClick:N},{default:o(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{O as default};
