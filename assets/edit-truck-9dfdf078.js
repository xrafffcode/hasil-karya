import{j as N,R as g,r as u,S as j,l as A,n as E,q as l,c as e,Y as f,I as _,Z as F,x as a,s as I}from"./index-a69e0c82.js";import{u as T}from"./truck-8406cd86.js";import{u as x}from"./vendor-e11f4308.js";import{V as d,b as P,a as h}from"./VRow-03344ab6.js";import{V as q}from"./VForm-fb065eef.js";import{V as n}from"./VTextField-03e38bc1.js";import{V as D}from"./VAutocomplete-1e982d1d.js";import"./VGrid-b0831086.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelect-2adf8cee.js";import"./VMenu-97c043ff.js";import"./VDivider-e33b9f13.js";import"./VOverlay-64f59fed.js";import"./VSelectionControl-88f5bb81.js";import"./VChip-707cc8ab.js";const O=I("h2",{class:"mb-0"}," Edit Truck ",-1),se={__name:"edit-truck",setup(Y){const U=N(),{loading:M,error:o}=g(T()),{fetchTruck:R,updateTruck:S}=T(),{vendors:w}=g(x()),{fetchVendors:C}=x();C();const k=U.params.id,m=u("AUTO"),i=u(""),c=u(""),p=u(0),v=u(""),V=u(),y=u(1),b=async()=>{try{const s=await R(k);m.value=s.code,i.value=s.brand,c.value=s.model,p.value=s.capacity,v.value=s.production_year,V.value=s.vendor.id,y.value=s.is_active===!0?1:0}catch(s){console.error(s)}};j(()=>{b(),document.title="Edit Truck"});const K=()=>{S({id:k,code:m.value,brand:i.value,model:c.value,capacity:p.value,production_year:v.value,vendor_id:V.value,is_active:y.value})},B=()=>{b()};return(s,t)=>(A(),E(h,null,{default:l(()=>[e(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:l(()=>[O,e(f,{to:{name:"admin-truck"},color:"primary"},{default:l(()=>[_(" Kembali ")]),_:1})]),_:1}),e(d,{cols:"12"},{default:l(()=>[e(P,null,{default:l(()=>[e(q,{onSubmit:F(K,["prevent"])},{default:l(()=>[e(h,null,{default:l(()=>[e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),label:"Kode",placeholder:"Kode Checker","error-messages":a(o)&&a(o).code?[a(o).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=r=>i.value=r),label:"Merk",placeholder:"Merk","error-messages":a(o)&&a(o).brand?[a(o).brand]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=r=>c.value=r),label:"Model",placeholder:"Model","error-messages":a(o)&&a(o).model?[a(o).model]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=r=>v.value=r),label:"Tahun Produksi",placeholder:"Tahun Produksi","error-messages":a(o)&&a(o).production_year?[a(o).production_year]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(D,{modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=r=>V.value=r),items:a(w),"item-title":r=>r.name,"item-value":r=>r.id,label:"Vendor",placeholder:"Vendor","error-messages":a(o)&&a(o).vendor_id?[a(o).vendor_id]:[]},null,8,["modelValue","items","item-title","item-value","error-messages"])]),_:1}),e(d,{cols:"12",md:"6"},{default:l(()=>[e(n,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=r=>p.value=r),label:"Kapasitas",placeholder:"Kapasitas","error-messages":a(o)&&a(o).capacity?[a(o).capacity]:[]},null,8,["modelValue","error-messages"])]),_:1}),e(d,{cols:"12",class:"d-flex gap-4"},{default:l(()=>[e(f,{type:"submit",loading:a(M),color:"primary"},{default:l(()=>[_(" Simpan ")]),_:1},8,["loading"]),e(f,{color:"secondary",variant:"tonal",onClick:B},{default:l(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};
