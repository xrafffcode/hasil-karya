import{u as P}from"./materialMovement-7e598da6.js";import{u as S}from"./driver-fb3fe64c.js";import{u as T}from"./truck-8406cd86.js";import{u as U}from"./station-88358ae3.js";import{u as h}from"./checker-f2b07ddc.js";import{j as z,R as d,r as i,S as Y,_ as A,l as G,n as H,q as r,c as t,Y as J,I as L,x as e,s as Q}from"./index-a69e0c82.js";import{t as W}from"./formatters-87109f83.js";import{V as m,b as X,a as D}from"./VRow-03344ab6.js";import{V as Z}from"./VForm-fb065eef.js";import{V as u}from"./VTextField-03e38bc1.js";import{b as n}from"./VSelect-2adf8cee.js";import{V as $}from"./VTextarea-d6921a11.js";import"./VGrid-b0831086.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VMenu-97c043ff.js";import"./VDivider-e33b9f13.js";import"./VOverlay-64f59fed.js";import"./VSelectionControl-88f5bb81.js";import"./VChip-707cc8ab.js";const ee=Q("h2",{class:"mb-0"}," Perpindahan Material ",-1),xe={__name:"material-movement",setup(ae){const R=z(),{drivers:w}=d(S()),{trucks:I}=d(T()),{stations:K}=d(U()),{checkers:C}=d(h()),{fetchDrivers:B}=S(),{fetchTrucks:N}=T(),{fetchStations:O}=U(),{fetchCheckers:j}=h();B(),N(),O(),j();const{loading:le,error:l}=d(P()),{fetchMaterialMovement:E}=P(),F=R.params.id,v=i(""),c=i(""),p=i(""),_=i(""),f=i(""),V=i(new Date(Date.now()-new Date().getTimezoneOffset()*6e4).toISOString().substr(0,16)),g=i(""),b=i(""),k=i(""),y=i(""),M=i(""),x=i(""),q=async()=>{try{const s=await E(F);v.value=s.code,c.value=s.driver.id,p.value=s.truck.id,_.value=s.station.id,f.value=s.checker.id,V.value=s.date,g.value=s.truck_capacity*1,b.value=s.observation_ratio_percentage*100,k.value=s.observation_ratio_number*1,y.value=W(s.solid_ratio),M.value=s.solid_volume_estimate*1,x.value=s.remarks}catch(s){console.error(s)}};return Y(()=>{q(),document.title="Detail Material Movement"}),A(()=>{l.value=null}),(s,o)=>(G(),H(D,null,{default:r(()=>[t(m,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:r(()=>[ee,t(J,{to:{name:"admin-material-movement"},color:"primary"},{default:r(()=>[L(" Kembali ")]),_:1})]),_:1}),t(m,{cols:"12"},{default:r(()=>[t(X,null,{default:r(()=>[t(Z,null,{default:r(()=>[t(D,null,{default:r(()=>[t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:v.value,"onUpdate:modelValue":o[0]||(o[0]=a=>v.value=a),label:"Kode",placeholder:"Kode Material Movement","error-messages":e(l)&&e(l).code?[e(l).code]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=a=>V.value=a),label:"Tanggal",placeholder:"Tanggal Material Movement","error-messages":e(l)&&e(l).date?[e(l).date]:[],type:"datetime-local",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=a=>c.value=a),items:e(w),label:"Driver",placeholder:"Pilih Driver","error-messages":e(l)&&e(l).driver_id?[e(l).driver_id]:[],"item-title":a=>a.name,"item-value":a=>a.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:p.value,"onUpdate:modelValue":o[3]||(o[3]=a=>p.value=a),items:e(I),label:"Truck",placeholder:"Pilih Truck","error-messages":e(l)&&e(l).truck_id?[e(l).truck_id]:[],"item-title":a=>a.name,"item-value":a=>a.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:_.value,"onUpdate:modelValue":o[4]||(o[4]=a=>_.value=a),items:e(K),label:"POS",placeholder:"Pilih POS","error-messages":e(l)&&e(l).station_id?[e(l).station_id]:[],"item-title":a=>a.name,"item-value":a=>a.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(n,{modelValue:f.value,"onUpdate:modelValue":o[5]||(o[5]=a=>f.value=a),items:e(C),label:"Pemeriksa",placeholder:"Pilih Pemeriksa","error-messages":e(l)&&e(l).checker_id?[e(l).checker_id]:[],"item-title":a=>a.name,"item-value":a=>a.id,readonly:""},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:g.value,"onUpdate:modelValue":o[6]||(o[6]=a=>g.value=a),label:"Kapasitas Truck",placeholder:"Kapasitas Truck","error-messages":e(l)&&e(l).truck_capacity?[e(l).truck_capacity]:[],type:"number",step:"1",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:b.value,"onUpdate:modelValue":o[7]||(o[7]=a=>b.value=a),label:"Presentase Rasio Index",placeholder:"Presentase Rasio Index","error-messages":e(l)&&e(l).observation_ratio_percentage?[e(l).observation_ratio_percentage]:[],type:"number",step:"1",suffix:"%",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:k.value,"onUpdate:modelValue":o[8]||(o[8]=a=>k.value=a),label:"Rasio Index",placeholder:"Rasio Index","error-messages":e(l)&&e(l).observation_ratio_number?[e(l).observation_ratio_number]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:y.value,"onUpdate:modelValue":o[9]||(o[9]=a=>y.value=a),label:"Rasio Padat",placeholder:"Rasio Padat","error-messages":e(l)&&e(l).solid_ratio?[e(l).solid_ratio]:[],step:"1",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:r(()=>[t(u,{modelValue:M.value,"onUpdate:modelValue":o[10]||(o[10]=a=>M.value=a),label:"Estimasi Volume",placeholder:"Estimasi Volume","error-messages":e(l)&&e(l).solid_volume_estimate?[e(l).solid_volume_estimate]:[],type:"number",suffix:"m³",readonly:""},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"12"},{default:r(()=>[t($,{modelValue:x.value,"onUpdate:modelValue":o[11]||(o[11]=a=>x.value=a),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":e(l)&&e(l).remarks?[e(l).remarks]:[],readonly:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{xe as default};
