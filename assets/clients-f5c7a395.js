import{u as p}from"./client-5537c3a9.js";import{R as k,r as y,S as w,_ as T,k as A,l as f,J as D,x as l,n as B,q as e,c as a,I as s,v as N,Y as i,A as C,O as E,K as R,s as U}from"./index-a69e0c82.js";import{b as _,d as z,e as S,V as d,a as F}from"./VRow-03344ab6.js";import{V as K}from"./VDialog-d7a653e8.js";import{V as j}from"./VTextField-03e38bc1.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";const q=U("h2",{class:"mb-0"}," Client ",-1),X={__name:"clients",setup(H){const V=[{text:"Kode",value:"code",width:100},{text:"Nama",value:"name"},{text:"Alamat",value:"address"},{text:"Telepon",value:"phone"},{text:"Email",value:"email"},{text:"Aksi",value:"operation",width:300}],{clients:v,loading:u,error:x,success:n}=k(p()),{fetchClients:m,deleteClient:h,activateClient:I}=p();m();async function g(c){confirm("Apakah Anda yakin ingin menghapus client ini?")&&(await h(c.id),m())}const r=y("");return w(()=>{document.title="Client"}),T(()=>{x.value=null}),(c,t)=>{const b=A("EasyDataTable");return f(),D(R,null,[l(n)?(f(),B(K,{key:0,modelValue:l(n),"onUpdate:modelValue":t[1]||(t[1]=o=>C(n)?n.value=o:null),"max-width":"400"},{default:e(()=>[a(_,null,{default:e(()=>[a(z,null,{default:e(()=>[s(N(l(n)),1)]),_:1}),a(S,null,{default:e(()=>[a(i,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>n.value=null)},{default:e(()=>[s(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),a(F,null,{default:e(()=>[a(d,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[q,a(i,{to:"/admin/client/create",color:"primary"},{default:e(()=>[s(" Tambah Client ")]),_:1})]),_:1}),a(d,{cols:"12"},{default:e(()=>[a(j,{modelValue:l(r),"onUpdate:modelValue":t[2]||(t[2]=o=>C(r)?r.value=o:null),label:"Cari Client",placeholder:"Cari Client",clearable:"",loading:l(u),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(d,{cols:"12"},{default:e(()=>[a(_,null,{default:e(()=>[a(b,{headers:V,items:l(v),loading:l(u),"search-value":l(r),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(o=>[a(i,{to:{name:"admin-client-edit",params:{id:o.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[s(" Ubah ")]),_:2},1032,["to"]),a(i,{to:{name:"admin-client-view",params:{id:o.id}},color:"info",size:"small"},{default:e(()=>[s(" Detail ")]),_:2},1032,["to"]),a(i,{color:"error",size:"small",class:"m-5",onClick:()=>g(o)},{default:e(()=>[s(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{X as default};
