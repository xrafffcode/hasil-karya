import{R as k,r as m,S as z,_ as G,w as y,l as H,n as J,q as o,c as t,Y as U,I as x,Z as L,x as l,s as Q}from"./index-a69e0c82.js";import{u as D}from"./client-5537c3a9.js";import{u as E}from"./region-7f4b6c0d.js";import{V as r,b as W,a as F}from"./VRow-03344ab6.js";import{V as X}from"./VForm-fb065eef.js";import{V as _}from"./VTextField-03e38bc1.js";import{V as C}from"./VAutocomplete-1e982d1d.js";import{V as $}from"./VTextarea-d6921a11.js";import"./VGrid-b0831086.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelect-2adf8cee.js";import"./VMenu-97c043ff.js";import"./VDivider-e33b9f13.js";import"./VOverlay-64f59fed.js";import"./VSelectionControl-88f5bb81.js";import"./VChip-707cc8ab.js";const ee=Q("h2",{class:"mb-0"}," Tambah Client ",-1),_e={__name:"create-client",setup(le){const{loading:M,error:a}=k(D()),{createClient:O}=D(),{provinces:T,regencies:N,districts:K,subdistricts:R}=k(E()),{fetchProvinces:P,fetchRegencies:j,fetchDistricts:q,fetchSubdistricts:I}=E();P();const v=m("AUTO"),p=m(""),d=m(""),n=m(""),c=m(""),f=m(""),V=m(""),g=m(""),b=m(""),S=()=>{v.value="AUTO",p.value="",d.value="",n.value="",c.value="",f.value="",V.value="",g.value="",b.value=""},Y=()=>{var h,w,A,B;const i=(h=T.value.find(u=>u.id===d.value))==null?void 0:h.nama,s=(w=N.value.find(u=>u.id===n.value))==null?void 0:w.nama,e=(A=K.value.find(u=>u.id===c.value))==null?void 0:A.nama,Z=(B=R.value.find(u=>u.id===f.value))==null?void 0:B.nama;O({code:v.value,name:p.value,province:i,regency:s,district:e,subdistrict:Z,address:V.value,phone:g.value,email:b.value})};return z(()=>{document.title="Tambah Client"}),G(()=>{S(),a.value=null}),y(d,i=>{j(i)}),y(n,i=>{q(i)}),y(c,i=>{I(i)}),(i,s)=>(H(),J(F,null,{default:o(()=>[t(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[ee,t(U,{to:"/admin/client",color:"primary"},{default:o(()=>[x(" Kembali ")]),_:1})]),_:1}),t(r,{cols:"12"},{default:o(()=>[t(W,null,{default:o(()=>[t(X,{onSubmit:L(Y,["prevent"])},{default:o(()=>[t(F,null,{default:o(()=>[t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),label:"Kode",placeholder:"Kode Client","error-messages":l(a)&&l(a).code?[l(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),label:"Nama",placeholder:"Nama Client","error-messages":l(a)&&l(a).name?[l(a).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=e=>d.value=e),label:"Provinsi",items:l(T),"error-messages":l(a)&&l(a).province?[l(a).province]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=e=>n.value=e),label:"Kabupaten/Kota",items:l(N),"error-messages":l(a)&&l(a).regency?[l(a).regency]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:c.value,"onUpdate:modelValue":s[4]||(s[4]=e=>c.value=e),label:"Kecamatan",items:l(K),"error-messages":l(a)&&l(a).district?[l(a).district]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(C,{modelValue:f.value,"onUpdate:modelValue":s[5]||(s[5]=e=>f.value=e),label:"Kelurahan/Desa",items:l(R),"error-messages":l(a)&&l(a).subdistrict?[l(a).subdistrict]:[],"item-title":e=>e.nama,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),t(r,{cols:"12",md:"12"},{default:o(()=>[t($,{modelValue:V.value,"onUpdate:modelValue":s[6]||(s[6]=e=>V.value=e),label:"Alamat",placeholder:"Alamat Client","error-messages":l(a)&&l(a).address?[l(a).address]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:g.value,"onUpdate:modelValue":s[7]||(s[7]=e=>g.value=e),label:"Telepon",placeholder:"Telepon Client","error-messages":l(a)&&l(a).phone?[l(a).phone]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",md:"6"},{default:o(()=>[t(_,{modelValue:b.value,"onUpdate:modelValue":s[8]||(s[8]=e=>b.value=e),label:"Email",placeholder:"Email Client","error-messages":l(a)&&l(a).email?[l(a).email]:[]},null,8,["modelValue","error-messages"])]),_:1}),t(r,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[t(U,{type:"submit",loading:l(M),color:"primary"},{default:o(()=>[x(" Simpan ")]),_:1},8,["loading"]),t(U,{color:"secondary",variant:"tonal",onClick:S},{default:o(()=>[x(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{_e as default};
