import{P as c,Q as s,b4 as o,b5 as r}from"./index-a69e0c82.js";const i=c({id:"project",state:()=>({projects:[],projectStatus:[],loading:!1,error:null,success:null}),actions:{async fetchProjects(){try{this.loading=!0;const a=await s.get("/projects");this.projects=a.data.data}catch(a){this.handleError(a)}finally{this.loading=!1}},async fetchProjectStatus(){try{this.loading=!0;const a=await s.get("/project/read/status");this.projectStatus=a.data.data}catch(a){this.handleError(a)}finally{this.loading=!1}},async fetchProject(a){try{this.loading=!0;const t=await s.get(`/project/${a}`);return t.data.data.trucks.forEach(e=>{e.name=`${e.brand} ${e.model}`}),t.data.data.heavy_vehicles.forEach(e=>{e.name=`${e.brand} ${e.model}`}),t.data.data}catch(t){this.handleError(t)}finally{this.loading=!1}},async createProject(a){try{this.loading=!0;const t=await s.post("/project",a);this.success=t.data.message,o.push({name:"admin-project"})}catch(t){this.error=r(t)}finally{this.loading=!1}},async updateProject(a){try{this.loading=!0;const t=await s.post(`/project/${a.id}`,a);this.success=t.data.message,o.push({name:"admin-project"})}catch(t){this.error=r(t)}finally{this.loading=!1}},async deleteProject(a){try{this.loading=!0;const t=await s.delete(`/project/${a}`);this.success=t.data.message}catch(t){this.error=r(t)}finally{this.loading=!1}}}});export{i as u};
