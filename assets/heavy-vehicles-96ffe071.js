import{d as B}from"./qrHelper-58efc0d6.js";import{u as f}from"./heavyVehicle-a28caf3e.js";import{R as T,r as D,S as H,_ as R,k as U,l as v,J as z,x as o,n as N,q as e,c as a,I as i,v as S,Y as r,A as V,O as E,K as F,s as M}from"./index-a69e0c82.js";import{b as h,d as Q,e as K,V as u,a as P}from"./VRow-03344ab6.js";import{V as j}from"./VDialog-d7a653e8.js";import{V as q}from"./VTextField-03e38bc1.js";import{V as I}from"./VSwitch-6f4bdfef.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelectionControl-88f5bb81.js";const J=M("h2",{class:"mb-0"}," Alat Berat ",-1),ne={__name:"heavy-vehicles",setup(O){const _=[{text:"Kode",value:"code",width:200},{text:"Merek",value:"brand"},{text:"Model",value:"model"},{text:"Tahun Produksi",value:"production_year"},{text:"Vendor",value:"vendor.name"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:400}],{heavyVehicles:y,loading:m,error:C,success:s}=T(f()),{fetchHeavyVehicles:c,deleteHeavyVehicle:x,activateHeavyVehicle:k}=f();c();async function b(n){confirm("Apakah Anda yakin ingin menghapus kendaraan berat ini?")&&(await x(n.id),c())}async function g(n){const t=new FormData;t.append("is_active",n.is_active?1:0),await k(n.id,t),c()}const d=D("");function w(n,t){B(n,"Alat Berat "+t)}return H(()=>{document.title="Alat Berat"}),R(()=>{C.value=null}),(n,t)=>{const A=U("EasyDataTable");return v(),z(F,null,[o(s)?(v(),N(j,{key:0,modelValue:o(s),"onUpdate:modelValue":t[1]||(t[1]=l=>V(s)?s.value=l:null),"max-width":"400"},{default:e(()=>[a(h,null,{default:e(()=>[a(Q,null,{default:e(()=>[i(S(o(s)),1)]),_:1}),a(K,null,{default:e(()=>[a(r,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>s.value=null)},{default:e(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):E("",!0),a(P,null,{default:e(()=>[a(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[J,a(r,{to:{name:"admin-heavy-vehicle-create"},color:"primary"},{default:e(()=>[i(" Tambah Alat Berat ")]),_:1})]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(q,{modelValue:o(d),"onUpdate:modelValue":t[2]||(t[2]=l=>V(d)?d.value=l:null),label:"Cari Alat Berat",placeholder:"Cari Alat Berat",clearable:"",loading:o(m),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(h,null,{default:e(()=>[a(A,{headers:_,items:o(y),loading:o(m),"search-value":o(d),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":e(l=>[a(I,{modelValue:l.is_active,"onUpdate:modelValue":p=>l.is_active=p,color:"primary",onChange:()=>g(l)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":e(l=>[a(r,{color:"info",size:"small",class:"m-5",onClick:p=>w(l.id,l.brand+" "+l.model)},{default:e(()=>[i(" Print QR Code ")]),_:2},1032,["onClick"]),a(r,{to:{name:"admin-heavy-vehicle-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Ubah ")]),_:2},1032,["to"]),a(r,{to:{name:"admin-heavy-vehicle-view",params:{id:l.id}},color:"info",size:"small"},{default:e(()=>[i(" Detail ")]),_:2},1032,["to"]),a(r,{color:"error",size:"small",class:"m-5",onClick:()=>b(l)},{default:e(()=>[i(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{ne as default};
