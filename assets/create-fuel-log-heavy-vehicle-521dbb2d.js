import{R as V,H as E,r as s,S as G,_ as I,l as B,J,x as l,n as Y,q as o,c as a,I as f,v as Z,Y as g,A as j,O as z,Z as Q,K as W}from"./index-a69e0c82.js";import{u as b}from"./fuelLog-b7b9becd.js";import{u as A}from"./driver-fb3fe64c.js";import{u as U}from"./heavyVehicle-a28caf3e.js";import{u as C}from"./station-88358ae3.js";import{b as T,d as X,e as $,V as u,a as H}from"./VRow-03344ab6.js";import{V as ee}from"./VDialog-d7a653e8.js";import{V as le}from"./VForm-fb065eef.js";import{V as h}from"./VAutocomplete-1e982d1d.js";import{V as D}from"./VTextField-03e38bc1.js";import{V as ae}from"./VTextarea-d6921a11.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./VSelect-2adf8cee.js";import"./VMenu-97c043ff.js";import"./index-7cec823b.js";import"./VDivider-e33b9f13.js";import"./VSelectionControl-88f5bb81.js";import"./VChip-707cc8ab.js";const be={__name:"create-fuel-log-heavy-vehicle",setup(te){const{drivers:F}=V(A()),{heavyVehicles:M}=V(U()),{stations:O}=V(C()),{user:y,checkAuth:R}=E(),{fetchDrivers:P}=A(),{fetchHeavyVehicles:w}=U(),{fetchStations:K}=C();P(),w(),K({type:"gas_station"}),R();const{success:i,loading:L,error:t}=V(b()),{createFuelLogHeavyVehicleGasOperator:N}=b(),S=s("AUTO"),m=s(""),d=s(""),n=s(""),x=s(y.gas_operator.id),k=s("diesel"),v=s(""),p=s(""),c=s(""),_=()=>{S.value="AUTO",m.value="",d.value="",n.value="",x.value=y.gas_operator.id,k.value="diesel",v.value="",p.value="",c.value=""},q=()=>{N({code:S.value,heavy_vehicle_id:m.value,driver_id:d.value,station_id:n.value,gas_operator_id:x.value,fuel_type:k.value,volume:v.value,hourmeter:p.value,remarks:c.value}),_()};return G(()=>{document.title="Catat BBM Alat Berat"}),I(()=>{_(),t.value=null}),(oe,r)=>(B(),J(W,null,[l(i)?(B(),Y(ee,{key:0,modelValue:l(i),"onUpdate:modelValue":r[1]||(r[1]=e=>j(i)?i.value=e:null),"max-width":"400"},{default:o(()=>[a(T,null,{default:o(()=>[a(X,null,{default:o(()=>[f(Z(l(i)),1)]),_:1}),a($,null,{default:o(()=>[a(g,{color:"primary",text:"",onClick:r[0]||(r[0]=()=>i.value=null)},{default:o(()=>[f(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):z("",!0),a(H,null,{default:o(()=>[a(u,{cols:"12"},{default:o(()=>[a(T,null,{default:o(()=>[a(le,{onSubmit:Q(q,["prevent"])},{default:o(()=>[a(H,null,{default:o(()=>[a(u,{cols:"12",md:"6"},{default:o(()=>[a(h,{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=e=>d.value=e),items:l(F),label:"Driver",placeholder:"Pilih Driver","error-messages":l(t)&&l(t).driver_id?[l(t).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(h,{modelValue:m.value,"onUpdate:modelValue":r[3]||(r[3]=e=>m.value=e),items:l(M),label:"Alat Berat",placeholder:"Pilih Alat Berat","error-messages":l(t)&&l(t).heavy_vehicle_id?[l(t).heavy_vehicle_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"12"},{default:o(()=>[a(h,{modelValue:n.value,"onUpdate:modelValue":r[4]||(r[4]=e=>n.value=e),items:l(O),label:"POS",placeholder:"Pilih POS","error-messages":l(t)&&l(t).station_id?[l(t).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(D,{modelValue:v.value,"onUpdate:modelValue":r[5]||(r[5]=e=>v.value=e),label:"Volume",placeholder:"Volume BBM","error-messages":l(t)&&l(t).volume?[l(t).volume]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",md:"6"},{default:o(()=>[a(D,{modelValue:p.value,"onUpdate:modelValue":r[6]||(r[6]=e=>p.value=e),label:"Hourmeter",placeholder:"Hourmeter","error-messages":l(t)&&l(t).hourmeter?[l(t).hourmeter]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",md:"12"},{default:o(()=>[a(ae,{modelValue:c.value,"onUpdate:modelValue":r[7]||(r[7]=e=>c.value=e),label:"Keterangan",placeholder:"Keterangan Material Movement","error-messages":l(t)&&l(t).remarks?[l(t).remarks]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(u,{cols:"12",class:"d-flex gap-4"},{default:o(()=>[a(g,{type:"submit",loading:l(L),color:"primary"},{default:o(()=>[f(" Simpan ")]),_:1},8,["loading"]),a(g,{color:"secondary",variant:"tonal",onClick:_},{default:o(()=>[f(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{be as default};
