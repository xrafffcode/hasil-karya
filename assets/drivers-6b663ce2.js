import{d as T}from"./qrHelper-58efc0d6.js";import{u as p}from"./driver-fb3fe64c.js";import{R as A,r as R,S as U,_ as B,k as N,l as v,J as z,x as l,n as S,q as e,c as a,I as i,v as E,Y as n,A as _,O as F,K as Q,s as K}from"./index-a69e0c82.js";import{b as V,d as j,e as q,V as u,a as H}from"./VRow-03344ab6.js";import{V as I}from"./VDialog-d7a653e8.js";import{V as J}from"./VTextField-03e38bc1.js";import{V as M}from"./VSwitch-6f4bdfef.js";import"./VGrid-b0831086.js";import"./VOverlay-64f59fed.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelectionControl-88f5bb81.js";const O=K("h2",{class:"mb-0"}," Driver ",-1),re={__name:"drivers",setup(P){const D=[{text:"Kode",value:"code",width:200},{text:"Nama",value:"name"},{text:"Aktif",value:"is_active"},{text:"Aksi",value:"operation",width:400}],{drivers:C,loading:c,error:h,success:s}=A(p()),{fetchDrivers:m,deleteDriver:x,activateDriver:g}=p();m();async function k(r){confirm("Apakah Anda yakin ingin menghapus driver ini?")&&(await x(r.id),m())}async function w(r){const t=new FormData;t.append("is_active",r.is_active?1:0),await g(r.id,t),m()}const d=R("");function y(r,t){T(r,"Driver "+t)}return U(()=>{document.title="Driver"}),B(()=>{h.value=null}),(r,t)=>{const b=N("EasyDataTable");return v(),z(Q,null,[l(s)?(v(),S(I,{key:0,modelValue:l(s),"onUpdate:modelValue":t[1]||(t[1]=o=>_(s)?s.value=o:null),"max-width":"400"},{default:e(()=>[a(V,null,{default:e(()=>[a(j,null,{default:e(()=>[i(E(l(s)),1)]),_:1}),a(q,null,{default:e(()=>[a(n,{color:"primary",text:"",onClick:t[0]||(t[0]=()=>s.value=null)},{default:e(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):F("",!0),a(H,null,{default:e(()=>[a(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[O,a(n,{to:{name:"admin-driver-create"},color:"primary"},{default:e(()=>[i(" Tambah Driver ")]),_:1})]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(J,{modelValue:l(d),"onUpdate:modelValue":t[2]||(t[2]=o=>_(d)?d.value=o:null),label:"Cari Driver",placeholder:"Cari Driver",clearable:"",loading:l(c),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),a(u,{cols:"12"},{default:e(()=>[a(V,null,{default:e(()=>[a(b,{headers:D,items:l(C),loading:l(c),"search-value":l(d),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-is_active":e(o=>[a(M,{modelValue:o.is_active,"onUpdate:modelValue":f=>o.is_active=f,color:"primary",onChange:()=>w(o)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),"item-operation":e(o=>[a(n,{color:"info",size:"small",class:"m-5",onClick:f=>y(o.id,o.name)},{default:e(()=>[i(" Print QR Code ")]),_:2},1032,["onClick"]),a(n,{to:{name:"admin-driver-edit",params:{id:o.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Ubah ")]),_:2},1032,["to"]),a(n,{to:{name:"admin-driver-view",params:{id:o.id}},color:"info",size:"small"},{default:e(()=>[i(" Detail ")]),_:2},1032,["to"]),a(n,{color:"error",size:"small",class:"m-5",onClick:()=>k(o)},{default:e(()=>[i(" Hapus ")]),_:2},1032,["onClick"])]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{re as default};
