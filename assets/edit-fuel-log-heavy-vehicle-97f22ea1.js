import{R as g,j as Y,r as i,S as Z,_ as z,l as E,n as J,q as t,c as o,Y as b,I as B,Z as Q,x as l,s as W}from"./index-a69e0c82.js";import{u as x}from"./gasOperator-0a65d517.js";import{u as X}from"./fuelLog-b7b9becd.js";import{u as L}from"./driver-fb3fe64c.js";import{u as H}from"./heavyVehicle-a28caf3e.js";import{u as P}from"./station-88358ae3.js";import{V as u,b as $,a as D}from"./VRow-03344ab6.js";import{V as ee}from"./VForm-fb065eef.js";import{V as h}from"./VTextField-03e38bc1.js";import{V as y}from"./VAutocomplete-1e982d1d.js";import{V as le}from"./VTextarea-d6921a11.js";import"./VGrid-b0831086.js";import"./forwardRefs-e658ad70.js";import"./index-7cec823b.js";import"./VSelect-2adf8cee.js";import"./VMenu-97c043ff.js";import"./VDivider-e33b9f13.js";import"./VOverlay-64f59fed.js";import"./VSelectionControl-88f5bb81.js";import"./VChip-707cc8ab.js";const ae=W("h2",{class:"mb-0"}," Ubah Data Pengisian BBM Alat Berat ",-1),Me={__name:"edit-fuel-log-heavy-vehicle",setup(oe){const{drivers:F}=g(L()),{heavyVehicles:R}=g(H()),{stations:T}=g(P()),{fetchDrivers:w}=L(),{fetchHeavyVehicles:A}=H(),{fetchStations:K}=P();w(),A(),K();const O=Y(),{gasOperators:C,loading:N,error:a}=g(x()),{fetchGasOperators:j}=x();j();const{fetchFuelLog:G,updateFuelLogHeavyVehicle:I}=X(),S=O.params.id,m=i(""),d=i(""),n=i(""),v=i(""),p=i(""),c=i(""),M=i("diesel"),f=i(""),V=i(""),_=i(""),U=async()=>{try{const s=await G(S);m.value=s.code,d.value=s.date,n.value=s.gas_operator.id,v.value=s.heavy_vehicle.id,p.value=s.driver.id,c.value=s.station.id,M.value=s.fuel_type,f.value=s.volume*1,V.value=s.hourmeter*1,_.value=s.remarks}catch(s){console.error(s)}};Z(()=>{U(),document.title="Ubah Data Pengisian BBM Alat Berat"}),z(()=>{k(),a.value=null});const q=()=>{I({id:S,code:m.value,date:d.value,gas_operator_id:n.value,heavy_vehicle_id:v.value,driver_id:p.value,station_id:c.value,fuel_type:M.value,volume:f.value,hourmeter:V.value,remarks:_.value})},k=()=>{U()};return(s,r)=>(E(),J(D,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:t(()=>[ae,o(b,{to:"/admin/fuel-log",color:"primary"},{default:t(()=>[B(" Kembali ")]),_:1})]),_:1}),o(u,{cols:"12"},{default:t(()=>[o($,null,{default:t(()=>[o(ee,{onSubmit:Q(q,["prevent"])},{default:t(()=>[o(D,null,{default:t(()=>[o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=e=>m.value=e),label:"Kode",placeholder:"Kode","error-messages":l(a)&&l(a).code?[l(a).code]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=e=>d.value=e),label:"Tanggal",placeholder:"Tanggal Mulai",type:"datetime-local","error-messages":l(a)&&l(a).date?[l(a).date]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=e=>n.value=e),items:l(C),label:"Solar Man",placeholder:"Pilih Solar Man","error-messages":l(a)&&l(a).gas_operator_id?[l(a).gas_operator_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:p.value,"onUpdate:modelValue":r[3]||(r[3]=e=>p.value=e),items:l(F),label:"Driver",placeholder:"Pilih Driver","error-messages":l(a)&&l(a).driver_id?[l(a).driver_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:v.value,"onUpdate:modelValue":r[4]||(r[4]=e=>v.value=e),items:l(R),label:"Alat Berat",placeholder:"Pilih Alat Berat","error-messages":l(a)&&l(a).heavy_vehicle_id?[l(a).heavy_vehicle_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(y,{modelValue:c.value,"onUpdate:modelValue":r[5]||(r[5]=e=>c.value=e),items:l(T),label:"POS",placeholder:"Pilih POS","error-messages":l(a)&&l(a).station_id?[l(a).station_id]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:f.value,"onUpdate:modelValue":r[6]||(r[6]=e=>f.value=e),label:"Volume BBM (L)",placeholder:"Masukan Volume BBM (L)","error-messages":l(a)&&l(a).volume?[l(a).volume]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"6"},{default:t(()=>[o(h,{modelValue:V.value,"onUpdate:modelValue":r[7]||(r[7]=e=>V.value=e),label:"Hourmeter (HM)",placeholder:"Masukan Hourmeter (HM)","error-messages":l(a)&&l(a).hourmeter?[l(a).hourmeter]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",md:"12"},{default:t(()=>[o(le,{modelValue:_.value,"onUpdate:modelValue":r[8]||(r[8]=e=>_.value=e),label:"Keterangan",placeholder:"Keterangan","error-messages":l(a)&&l(a).remarks?[l(a).remarks]:[]},null,8,["modelValue","error-messages"])]),_:1}),o(u,{cols:"12",class:"d-flex gap-4"},{default:t(()=>[o(b,{type:"submit",loading:l(N),color:"primary"},{default:t(()=>[B(" Simpan ")]),_:1},8,["loading"]),o(b,{color:"secondary",variant:"tonal",onClick:k},{default:t(()=>[B(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Me as default};
